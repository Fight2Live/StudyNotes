# 描述性统计分析

## 统计学含义

​    统计学是一门收集、处理、分析、解释数据并从数据中得出结论的科学。

​    

​    

**分析时主要有两类方法：**

**1、描述性分析：**

​        研究数据收集、处理和描述的统计学方法。

​        总体规模、对比关系、集中趋势、离散程度、偏态、峰态等

​        比如：现在要分析所有CDA持证人的收入情况。那我们收集现在持证人的收入情况，可以通过平均值，中位数等各种指标来看到。

**2、推断性分析：**

​        研究如何利用样本数据来推断总体特征的统计学方法

​        估计、假设检验、列联分析、方差分析、相关分析、回归分析等

​        比如：现在需要分析中国人的收入情况。因为总体样本数据之庞大，去获取与分析不现实，所以我们可以从多个城市各抽调几万人的数据，然后再从中推断分析总体的情况。

## 基本概念

### **数据**

​    统计学的**对象**是数据，形式可以是数字或者文字。

​    当数据的**形式**是数字时，要明确这个数字的含义，是某个数值，还是某个离散型数据的数字型表示

​    只要这个东西能进行分析，那就是数据，不论它是数字、文字，亦或是其他的

#### 分类

##### 按照**计量尺度**分类

​        分类型数据（定性数据）：对事物进行分类的结果，如人的性别分为：男、女

> 特点：**不可排序，不可计算**

​        顺序型数据（定性数据）：对事物类别顺序的测度，如产品分为：一等品、二等品、三等品。【目前商业数据领域中最多的是该类数据】

> 特点：**可排序，不可计算**

​        数值型数据（定量数据）：对事物的精确测度，如身高，金额，年龄等。区间也属于数值型

> 特点：可排序，可计算

​        复数型数据：【极少出现】

> 特点：不可排序，可计算

##### 按照来源

​    直接来源（一手数据、原始资料）

​    间接来源（二手数据、次级资料）

##### 按照收集方式

​    观测的数据

​    实验的数据：相对观测型数据，实验型数据大部分情况下是在控制变量的条件下收集的

##### 按与时间的关系

​    截面数据：在一个时间点，或一个时间段内取到的数据。

​    时间序列数据：随着时间变化的数据。（即与时间有函数关系？）

​    混合数据（面板数据）

##### 按概型不同

​    离散型数据

​    连续型数据

##### 特殊

​    虚拟变量数据

### 总体和样本

> 所有和**总体**有关系的，都是**定值**
> 
> 所有和**样本**有关系的，都是**变量**

#### 总体（population）

​    指研究的**所有元素的集合**。其中每个元素成为个体。

​    如：现研究全校学生的平均年龄

​    和总体相关的事物，统计学上使用**希腊**字母表示

#### 样本（sample）

​    从总体重**抽取的一部分元素**的集合。

​    如：为研究全校学生的平均年龄，由于总体太大，从中抽取100人进行研究。该研究中的样本是抽取的这100个学生。

​    和样本相关的事物，统计学上用**英文字母**表示

### 参数和统计量

#### 参数（parameter）

​    指研究者想要了解的总体的某种特征值

​    主要有总体均值（μ），总体标准差（σ），统计比例等（pai）

#### 统计量（statistic）

​    设X1,X2,...,Xn是从总体X中抽取的容量为n的一个样本U，如果由此样本构造一个函数T（U），不依赖于任何未知参数，则称喊出T(U)是一个统计量

> 样本均值，样本比例，样本方差等都是统计量

​    统计量是样本的一个函数，是统计推断的基础

​    统计量是根据样本计算得来的

##### 次序统计量

​        一组样本观测值X1,X2,...Xn由小到大的排序后的，称其为次序统计量。如中位数，分位数等。

​        次序统计量是有序样本中的一个元素

### 变量

​    指描述事物某种特征的概念。如商品销售额、受教育程度、产品的质量等级等。

​    变量的具体表现成为变量值，即数据。

### 

​    

## 描述统计

主要从五个角度：

1. 总体规模的描述——总量指标
2. 对比关系的描述——相对指标
3. 集中趋势的描述——平均指标
4. 离散程度的描述——变异指标
5. 分布形态的描述——偏态与峰态
6. 描述性统计图表

#### 总量指标、相对指标

总量指标：反映在一定时间、空间条件下某种现象的总体规模、总水平或总成果的统计指标。如：营业额，利润

相对指标：是两个有相互联系的指标数值之比。如：目标完成率（实际完成/计划完成）

#### 集中趋势（Central tendency）

集中趋势描述的是数据的中心

1、定义：一组数据向其中心值靠拢的趋势

2、测度集中趋势就是寻找数据水平的代表值或中心值

分类型数据 可用 众数

顺序型数据 可用 众数、分位数

数值型数据 可用 众数、分位数、均值

##### 众数

出现次数最多的变量值， 通常用$ M_0 $表示。

##### 分位数

根据数据位置进行划分，处于某些特定位置上的数，前提是**数据集是有序的**。

常用的有中位数，上四分位数，下四分位数

##### 均值

**距离所有样本点距离最小的，均值是数据的中心点**

###### 算术平均值

​    定义：数据的和与数据个数之比

​    符号： $ \overline{x} $

​    特点：很容易受到**极端值**的影响

​        

​    计算：

​    一般平均数
$$
\overline{x} = \frac{x_1+x_2+...+x_n}{n}=\frac{\sum^n_{i=1}x_i}{n}
$$

​    加权平均数
$$
\overline{x} = \frac{f_1x_1+f_2x_2+...+f_kx_k}{f_1+f_2+...+f_k}=\frac{\sum^k_{i=1}f_iM_i}{n}
$$

> （其中个数为n，也就是频数之和；分组数据的组数为k，Mi为组中值，fi为各组的频数）

###### 几何平均值

​    定义：n个变量值乘积的n次方根

​    符号：G

​    特点：a. 容易受极端值影响

​                b.常用于**增长率**数据的研究

​                c.所有数据需大于0

​    计算：

​    简单几何平均数（根据未分组数据计算）
$$
G = \sqrt[n]{x_1x_2x_3...x_n}
$$
​    加权几何平均数（根据分组数据计算）
$$
G=\sqrt[f_1+f_2+...+f_n]{x_1^{f_1} x_2^{f_2}... x_n^{f_n}}
$$

###### 调和平均值

​    定义：变量值倒数的算术平均的倒数

​    符号：H

​    特点：a. 容易受极端值影响

​                b.常用于**效率**数据的研究

​                c.有一项数据为0，就无法计算

​    计算：

​    简单调和平均数
$$
H=\frac{n}{\frac{1}{x_1}+\frac{1}{x_2}+...+\frac{1}{x_n}}
$$
​    加权调和平均数：
$$
H=\frac{f_1+f_2+...+f_k}{\frac{f_1}{M_1}+\frac{f_2}{M_2}+...+\frac{f_k}{M_k}}
$$

> 其中：数据个数为n，分组数据的组数为k，Mi为组中值，fi为各组频数

##### 均值不等式

​    对于同一组数据，一定会满足：
$$
算术平均数\overline{x}≥几何平均数G≥调和平均数H
$$
​    当所有数据取值相同时，等号成立

 

#### 离散趋势

​    定义：反应各变量值远离其中心值的程度，是数据分布的另一个重要特征

​    从另一个侧面说明了集中趋势测度值的代表程度

##### 极差（range）

​    定义：一组数据的最大值与最小值之差

​    符号：R

​    特点：a.离散程度的最简单测度值

​                b.极易受极端值影响

​                c.未考虑数据的分布

​    计算：R = max - min

##### 平均差/离差（mean deviation）

​    定义：各变量值与其均值的差的绝对值的平均数

​    符号：M_d

​    特点：a.能全面反映一组数据的离散程度，平均差越大，数据越分散

​                b.数学性质较差，实际中应用较少

​    计算:

​        未分组数据
$$
M_d=\frac{\sum_{i=1}^n{|x_i-\overline{x}|}}{n}
$$
​        分组数据
$$
M_d=\frac{\sum_{i=1}^k{|M_i-\overline{x}|f_i}}{n}（M_i为组中值）
$$

##### 标准差

​    计算：
$$
总体标准差σ=\sqrt{\frac{\sum^N_{i=1}(x_i-μ)^2}{N}}
$$

$$
样本标准差S=\sqrt{\frac{\sum^n_{i=1}(x_i-\overline{x})^2}{n-1}}
$$

##### 方差

​    是度量数据的波动性。可反应数据的风险程度。
$$
总体方差σ^2 = \frac{\sum^N_{i=1}(x_i-μ2)}{N}
$$

$$
样本方差S^2 = \frac{\sum^N_{i=1}(x_i-μ2)}{N}

$$

##### 异众比率

    定义：指非众数组的频数占总频数的比例

    特点：用于衡量众数对一组数据的代表程度

    符号：V

##### 离散系数

​    特点：1、表示该数据集的离散程度，数值越大，越离散

​                2、消除了数据水平高低和计量单位的影响

​    符号：v

​    计算：标准差/均值
$$
v_S=\frac{S}{\overline{X}}
$$

##### 标准分数

​    特点：1、能筛选离群值

​                2、对某一个值在一组数据中相对位置的度量

​                3、也叫标准化值，可用于对变量的标准化处理

​    计算：值x减去均值再除以样本标准差
$$
Z_i=\frac{X_i-\overline{X}}{S}
$$

##### 切比雪夫不等式

​    1、如果一组数据**不是对称分布**，则可以用切比雪夫不等式来获得**下界**

​    2、对于任意分布形态的数据，至少有**1 - 1/k^2**的数据落在**平均数加减k个标准差之内**。其中k是大于1的任意值。
$$
1-\frac{1}{k^2}
$$

## 分布

### 偏态

​ 定义：偏态分布(skewness distribution)指频数分布的高峰位于一侧，尾部向另一侧延伸的分布。它分为正偏态和负偏态。偏态分布的资料有时取对数后可以转化为正态分布，反映偏态分布的集中趋势往往用中位数。

​ 特点：

​ 符号：

​ 计算：

左偏：均值<中位数<众数

标准：均值 = 中位数 = 众数

右偏：均值>中位数>众数

### 峰态

### 抽样分布

​    1、样本统计量的概率分布，是一种理论分布

> 在重复选取容量为n的样本时，由该统计量的所有可能取值形成的相对频数分布

​    2、随机变量是样本统计量

> 样本均值，样本比例，样本方差等

​    3、结果来自**容量相同**的所有可能样本

​    4、提供了样本统计量长远而稳定的信息，是进行推断的理论基础，也是抽样推断科学性的重要依据。

#### 分布函数

```python
设X是一个随机变量，x是任意实数。函数F(x) = P(X ≤ x)称为X的分布函数，表示随机变量X的值小于等于x的概率。
对于任意的x1,x2 (x1 < x2)有
P(x1 < X < x2) = P(X ≤ x2) - P(X ≤ x1) = F(x2) - F(x1)
P(X > x1) = 1 - P(X ≤ x1) = 1 - F(x1)
```

分布函数完整地描述了随机变量X的统计规律性
分布函数F(x)在x处的函数值表示X落在 (-∞, X]上的概率

#### 密度函数

概率密度函数f(x)是分布函数F(x)关于x的一阶导数。

对于一个 n→∞ 的样本空间来说，只能用密度函数去计算随机变量X落在x处”单位宽度“内的概率。

性质

- ≥ 0
- $ \int^{+∞}_{-∞}{f(x)dx} = 1 $
- P(a < x < b) = $ \int^b_a{f(x)dx} $
- 概率密度函数在个别点上的取值不会影响随机变量的表现
- 连续型的随机变量取值在任意一点的概率都是0

### 正态分布

​    定义：若随机变量X服从一个总体均值为μ，总体方差为σ的概率分布，且其概率密度函数为


$ f(x)=\frac{1}{\sqrt{2π}σ}e^{-\frac{(x-μ)^2}{2σ^2}}
$
则这个随机变量就称为正态随机变量，服从的分布就成为正态分布，记做**X ~ N（μ，σ²）**，读作X服从正态分布

当μ = 0，σ = 1时，则为标准正态分布
$ f(x) = \frac{1}{\sqrt{2π}}e^{-\frac{x^2}{2}}$

#### T分布

​    是用来描述小样本问题的

​    随着自由度，或者说样本量的增大，而收敛至正态分布

#### x²分布

​    多个标准正态分布的平方和

​    令X~N(μ，σ²)，标准化有z=(X-μ)/σ~N(0,1)，令Y=z²，则Y服从自由度为1的χ²分布，即Y~χ²（1）

​    多用于分析样本方差，及与样本方差有关系的数据
$$
Y = z(n)^2 =\frac{\sum^n_{i=1}(Xi-μ)^2}{σ²} \sim \chi^2(n-1)
$$

$$
两边除以自由度n-1有：\frac{\sum^n_{i=1}(Xi-μ)^2}{σ²(n-1)} \sim \chi^2
$$

$$
即：\frac{S^2}{σ²} \sim \chi^2
$$

​    **金融行业里，大家都普遍认为样本容量有5W后，准确度就足够高了**

### F分布

​    多用于对比两个事物的方差，通用性

### 中心极限定理

​    多用于研究均值。

​    从均值为μ，方差为σ²的一个任意总体中抽取容量为n的样本，当n充分大时，样本均值的抽样分布近似服从均值为μ、方差为σ²/n的正态分布。

## 相关分析

​        用来分析两个变量之间的相关性

（1）按变量的多少：1.单相关（一对一，可用相关系数分析）  2.复相关（一对多或多对多，可用回归来分析）

（2）按表现形态：    1.直线相关（相关系数）   2.曲线相关（回归）

（3）从变动的方向：1.正相关   2.负相关

（4）按相关的程度：1.完全相关（1）  2.统计相关（(0，1)）   3.完全无关（0）

#### 协方差

$$
Cov(Y,X)=\frac{\sum^n_{i=1}(y_i-\overline{y})(x_i-\overline{x})}{n-1}
$$

若Cov（Y，X）> 0，则Y和X正相关。反之负相关。=0时完全无关

受度量单位影响，数值本身的大小是没有实际意义的，不能反映变量间线性关系的强弱

> 如果想对比两组事物的相关性谁更强
> 
> 比如  a = Cov（购买，收入）
> 
> ​          b = Cov（ 购买，教育程度）
> 
> 若b>a，能说明

#### 相关系数

​    

​    **皮尔逊**相关系数Cor（Y，X） = 协方差除以两个样本标准差的乘积
$$
Cor（Y,X）=\frac{Cov（Y,X）}{s_ys_x}
$$
​    -1  ≤ Cor(Y，X) ≤ 1

​     负                       正

​    当|r|≥0.8时，视为高度相关；

​    0.8 ＞|r| ≥ 0.5 时，视为中度相关

​    0.5 ＞|r| ≥ 0.3 时，视为轻度度相关

​    |r|＞ 0.3时，说明相关关系极弱；

​    **相关系数只能计算线性相关。所以当Cor=0时，还要考虑是否存在非线性相关**

​    **而且计算易受到离群值影响**

​    **皮尔逊相关系数**一般是用来计算两个连续型变量的相关系数。

​    **肯德尔相关系数**：一个连续变量，一个分类变量

​    **斯皮尔曼相关系数**：2个变量无论连续还是分类都可以，

## 假设检验

## 参数估计
