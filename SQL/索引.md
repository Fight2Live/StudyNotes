# 介绍

当MySQL执行查询时，如果没有索引，就需要扫描整个表来查找符合条件的行，这样的查询速度会很慢。而索引可以帮助MySQL高效地定位符合条件的行，从而提高查询速度。索引是一种特殊的数据结构，它包含了一些列的值和对应的行的指针，可以加速对这些列的查找。

MySQL支持多种类型的索引，包括：

1. **B-tree索引**：B-tree是一种平衡树，它可以快速地定位某个值，适用于等值查询和范围查询。MySQL中的大多数索引都是B-tree索引。

2. **哈希索引**：哈希索引是一种基于哈希表的索引，它可以快速地定位某个值，适用于等值查询。但是哈希索引不支持范围查询，而且对于重复值较多的列，哈希索引的效果不如B-tree索引。

3. **全文索引**：全文索引是针对文本的索引，可以用于全文搜索。全文索引适用于包含大量文本的列，例如文章内容、博客评论等。

4. **空间索引**：空间索引是针对空间数据的索引，可以用于空间查询，例如查找某个区域内的所有点。空间索引适用于包含空间数据的列，例如经纬度等。







# 索引失效



索引是 MySQL 中用于提高查询性能的重要工具，但是在一些情况下，索引可能会失效，导致查询性能下降。以下是一些常见的导致索引失效的情况：

1. 对索引列进行函数操作：如果在查询语句中对索引列进行了函数操作，例如使用 `UPPER()` 函数将索引列转换为大写，那么索引就会失效。这是因为函数操作会使得索引列的值发生变化，导致无法命中索引，从而降低查询性能。

2. 对索引列进行运算：如果在查询语句中对索引列进行了运算操作，例如使用 `+` 运算符将索引列加上一个常数，那么索引就会失效。这是因为运算操作也会使得索引列的值发生变化，导致无法命中索引。

3. 使用 `NOT` 运算符：如果在查询语句中使用了 `NOT` 运算符，那么索引就会失效。这是因为 `NOT` 运算符会导致 MySQL 放弃使用索引，而使用全表扫描来查找数据，从而降低查询性能。

4. 对索引列进行类型转换：如果在查询语句中对索引列进行了类型转换，例如将一个字符串类型的列转换为整数类型，那么索引就会失效。这是因为类型转换会使得索引列的值发生变化，导致无法命中索引。

5. 查询条件中使用了 `OR` 运算符：如果在查询语句中使用了 `OR` 运算符，那么索引就可能会失效。这是因为 `OR` 运算符会使得 MySQL 无法使用索引合并优化，从而降低查询性能。

6. 对索引列进行模糊查询：如果在查询语句中对索引列进行了模糊查询，例如使用 `LIKE` 运算符，那么索引就可能会失效。这是因为模糊查询需要进行字符串匹配操作，而索引列的值不是精确匹配的，从而无法命中索引，导致查询性能下降。

总之，为了避免索引失效，应该尽量避免在查询语句中对索引列进行函数操作、运算操作、类型转换、模糊查询等操作，同时尽量使用 `AND` 运算符代替 `OR` 运算符，从而提高查询性能。
